<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>WeatherNow Dashboard</title>
  <link rel="icon" type="image/x-icon" href="/images/favicon.png">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="main.css">
  <link rel="stylesheet" href="additional-styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

  <!-- Initial Search View -->
  <div id="initialSearch" class="center-search">
    <h1>WeatherNow</h1>
    <div class="search-container">
      <input type="text" id="mainSearchBar" class="main-search-bar" placeholder="Enter a city name...">
      <button id="locationBtn" class="location-btn">
        <i class="fas fa-location-dot"></i> Use My Location
      </button>
    </div>
  </div>

  <!-- NAVBAR -->
  <nav class="navbar" role="navigation" aria-label="Main navigation" id="navbar" style="display: none;">
    <div class="nav-left">
      <button id="menuBtn" class="menu-btn" aria-haspopup="true" aria-expanded="false">☰</button>

      <!-- DROPDOWN -->
      <div id="menuDropdown" class="menu-dropdown" role="menu" aria-hidden="true">
  <button class="menu-item" id="favoritesBtn" role="menuitem"><span class="menu-icon" id="icon-favorites"></span> Favorites</button>
  <button class="menu-item" id="historyBtn" role="menuitem"><span class="menu-icon" id="icon-history"></span> History</button>
  <button class="menu-item" id="alertsBtn" role="menuitem"><span class="menu-icon" id="icon-alerts"></span> Weather Alerts</button>
  <button class="menu-item" id="changeUserBtn" role="menuitem"><span class="menu-icon" id="icon-user"></span> Change user</button>
  <a class="menu-item" id="aboutUsLink" role="menuitem" href="https://github.com/Kartikay-Dutta/FEE_v2" target="_blank" rel="noopener noreferrer"><span class="menu-icon" id="icon-about"></span> About Us</a>
      </div>

      <h2 class="logo">WeatherNow</h2>
    </div>

    <div class="nav-center">
      <input type="text" placeholder="Search for your preferred city..." class="search-bar" id="searchBar" />
    </div>

    <div class="nav-right">
      <div class="unit-toggle">
        <input type="radio" id="celsius" name="tempUnit" value="C" checked>
        <label for="celsius">°C</label>
        <input type="radio" id="fahrenheit" name="tempUnit" value="F">
        <label for="fahrenheit">°F</label>
      </div>
      <button id="theme-toggle" class="theme-btn"><i class="fas fa-moon"></i></button>
    </div>
  </nav>

  <!-- MAIN DASHBOARD -->
  <main class="wrap" id="wrap" style="display: none;">

    <!-- LEFT: City + Time (large) -->
    <section class="card city-time">
        <div class="city-inner" aria-live="polite">
        <!-- Favorite button: uses Font Awesome so color can be controlled via CSS -->
        <button id="favoriteIcon" class="favorite-btn" aria-pressed="false" title="Toggle favorite">
          <i class="far fa-star" aria-hidden="true"></i>
          <span class="visually-hidden">Toggle favorite</span>
        </button>
        <h2 class="city" id="cityName">Loading...</h2>
        <div class="clock" id="clock">--:--</div>
        <div class="date" id="date">Loading...</div>
        <div id="activitySuggestion" class="activity-suggestion" aria-live="polite">"<em>Loading suggestion...</em>"</div>
      </div>
    </section>

    <!-- RIGHT: Main Weather Info (big) -->
    <section class="card weather-info" aria-label="Current weather">
  <!-- LEFT: big temp + feels + vertical sunrise/sunset -->
  <div class="weather-left">
    <div class="temp-big">
      <div class="temp-val"><span id="tempVal">--</span><span class="deg">°C</span></div>
      <div class="feels">Feels like: <strong id="feelsLike">--°C</strong></div>

      <div class="sun-times">
        <div class="sun-line">
          <img src="images/sunrise.png" alt="sunrise" class="stat-icon">
          <div class="sun-text">
            <div class="small-label">Sunrise</div>
            <div class="small-val" id="sunrise">--:--</div>
          </div>
        </div>
        <div class="sun-line">
          <img src="images/sunset.png" alt="sunset" class="stat-icon">
          <div class="sun-text">
            <div class="small-label">Sunset</div>
            <div class="small-val" id="sunset">--:--</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- CENTER: big icon + label -->
  <div class="weather-center">
    <img src="images/cloudy.png" alt="weather condition" class="big-icon" id="bigIcon">
    <div class="condition" id="condition">Loading...</div>
  </div>

  <!-- RIGHT: vertical stats (icon + label + value) -->
  <div class="weather-right">
    <div class="stat stat-row">
      <img src="images/humidity.png" alt="humidity" class="stat-icon">
      <div class="stat-text">
        <div class="small-label">Humidity</div>
        <div class="small-val" id="humidity">--%</div>
      </div>
    </div>

    <div class="stat stat-row">
      <img src="images/wind.png" alt="wind" class="stat-icon">
      <div class="stat-text">
        <div class="small-label">Wind Speed</div>
        <div class="small-val" id="wind">-- km/h</div>
      </div>
    </div>

    <div class="stat stat-row">
      <img src="images/pressure.png" alt="pressure" class="stat-icon">
      <div class="stat-text">
        <div class="small-label">Pressure</div>
        <div class="small-val" id="pressure">---- hPa</div>
      </div>
    </div>

    <div class="stat stat-row">
      <img src="images/visible.png" alt="visibility" class="stat-icon">
      <div class="stat-text">
        <div class="small-label">Visibility</div>
        <div class="small-val" id="visibility">-- Km</div>
      </div>
    </div>
  </div>
</section>

    <!-- BOTTOM LEFT: 5-Day Forecast -->
    <section class="card forecast-5days">
      <h3>5 Days Forecast</h3>
      <ul id="fiveDayList" aria-live="polite">
        <li class="loading-placeholder">Loading forecast data...</li>
      </ul>
    </section>

    <!-- BOTTOM RIGHT: Hourly Forecast (wide) -->
    <section class="card forecast-hourly">
      <h3>Hourly Forecast</h3>
      <div class="hours" id="hoursRow" aria-live="polite">
        <div class="loading-placeholder">Loading hourly forecast...</div>
      </div>
    </section>

  </main>

  <!-- FAVORITES MODAL -->
  <div id="favoritesModal" class="modal" aria-hidden="true" role="dialog" aria-labelledby="favoritesTitle">
    <div class="modal-content">
      <button class="close-modal" id="closeFavorites"><i class="fas fa-times"></i></button>
      <h3 id="favoritesTitle">Favorite Cities</h3>
      <div class="favorites-container">
        <div class="favorites-header">
          <div class="favorites-search">
            <i class="fas fa-search search-icon"></i>
            <input type="text" id="favoritesSearch" placeholder="Search your favorites...">
          </div>
          <div class="favorites-sort">
            <select id="favoritesSort">
              <option value="name">Name (A-Z)</option>
              <option value="temp">Temperature</option>
              <option value="recent">Recently Added</option>
            </select>
          </div>
        </div>
        <div id="favoritesList" class="favorites-grid">
          <!-- Favorites will be dynamically added here -->
          <div class="empty-favorites">
            <i class="fas fa-star empty-star"></i>
            <p>No favorites yet</p>
            <p class="empty-subtitle">Search for cities and star them to add to favorites</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ALERTS MODAL -->
  <div id="alertsModal" class="modal" aria-hidden="true" role="dialog" aria-labelledby="alertsTitle">
    <div class="modal-content">
      <button class="close-modal" id="closeAlerts"><i class="fas fa-times"></i></button>
      <h3 id="alertsTitle">Weather Alert Settings</h3>
      <div class="alert-settings">
        <div class="alert-option">
          <input type="checkbox" id="rainAlert" name="rainAlert">
          <label for="rainAlert">Rain Alerts</label>
        </div>
        <div class="alert-option">
          <input type="checkbox" id="tempAlert" name="tempAlert">
          <label for="tempAlert">Temperature Alerts</label>
          <div class="temp-thresholds">
            <input type="number" id="minTemp" placeholder="Min °C">
            <input type="number" id="maxTemp" placeholder="Max °C">
          </div>
        </div>
        <div class="alert-option">
          <input type="checkbox" id="windAlert" name="windAlert">
          <label for="windAlert">High Wind Alerts</label>
          <input type="number" id="windSpeed" placeholder="Wind speed (km/h)">
        </div>
        <button id="saveAlerts" class="btn">Save Settings</button>
      </div>
    </div>
  </div>

  <script src="weather.js"></script>
  <script src="additional-features.js"></script>
  <script src="favorites.js"></script>
  <script src="main.js"></script>
  
</body>
</html>
